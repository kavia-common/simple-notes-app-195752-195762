{"is_source_file": true, "format": "Python", "description": "This is a source code file for a REST API implemented using FastAPI. It defines CRUD routes for managing notes stored in an SQLite database, including listing, retrieving, creating, updating, and soft-deleting notes. The file handles request validation, database interactions, and response serialization for the notes resource.", "external_files": ["src.api.db", "src.api.models"], "external_methods": ["sqlite_connection", "utc_now_iso"], "published": ["list_notes", "get_note", "create_note", "update_note", "delete_note"], "classes": [], "methods": [{"name": "PaginatedNotes list_notes( limit: int = Query(20, ge=1, le=200, description=\"Max number of notes to return.\"), offset: int = Query(0, ge=0, description=\"Number of notes to skip.\"), sort_by: Literal[\"created_date\", \"modified_date\", \"title\", \"id\"] = Query( \"modified_date\", description=\"Field to sort by.\" ), sort_order: Literal[\"asc\", \"desc\"] = Query( \"desc\", description=\"Sort direction.\" ), )", "description": "Returns a paginated list of active notes, with optional sorting and pagination parameters.", "scope": "", "scopeKind": ""}, {"name": "NoteOut get_note( note_id: int = Path(..., ge=1, description=\"Note ID.\"), )", "description": "Fetches a single active note by its ID, raising a 404 error if not found.", "scope": "", "scopeKind": ""}, {"name": "NoteOut create_note(payload: NoteCreate)", "description": "Creates a new note with provided title and content, setting timestamps to current UTC time.", "scope": "", "scopeKind": ""}, {"name": "NoteOut update_note( payload: NoteUpdate, note_id: int = Path(..., ge=1, description=\"Note ID.\"), )", "description": "Updates an existing active note's title and/or content, and refreshes the modified date.", "scope": "", "scopeKind": ""}, {"name": "NoteOut delete_note( note_id: int = Path(..., ge=1, description=\"Note ID.\"), )", "description": "Soft-deletes a note by setting its deleted_date to the current UTC time.", "scope": "", "scopeKind": ""}, {"name": "NoteOut _row_to_note_out(row)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["sqlite_connection()", "utc_now_iso()", "conn.execute()", "conn.commit()", "conn.execute()", "conn.execute()", "conn.execute()", "conn.execute()", "conn.execute()", "conn.execute()", "conn.execute()"], "search-terms": ["notes_router", "FastAPI CRUD", "SQLite notes API", "soft delete", "pagination", "sorting notes"], "state": 2, "file_id": 7, "knowledge_revision": 16, "git_revision": "5e1de257bad145af13554a329f4e475360292558", "ctags": [{"_type": "tag", "name": "_SORT_FIELDS", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^_SORT_FIELDS = {$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_row_to_note_out", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def _row_to_note_out(row) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(row)"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def create_note(payload: NoteCreate) -> NoteOut:$/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "(payload: NoteCreate)"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def delete_note($/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "( note_id: int = Path(..., ge=1, description=\"Note ID.\"), )"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def get_note($/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "( note_id: int = Path(..., ge=1, description=\"Note ID.\"), )"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def list_notes($/", "language": "Python", "typeref": "typename:PaginatedNotes", "kind": "function", "signature": "( limit: int = Query(20, ge=1, le=200, description=\"Max number of notes to return.\"), offset: int = Query(0, ge=0, description=\"Number of notes to skip.\"), sort_by: Literal[\"created_date\", \"modified_date\", \"title\", \"id\"] = Query( \"modified_date\", description=\"Field to sort by.\" ), sort_order: Literal[\"asc\", \"desc\"] = Query( \"desc\", description=\"Sort direction.\" ), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^router = APIRouter(prefix=\"\\/notes\", tags=[\"notes\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-195752-195762/notes_backend/src/api/notes_router.py", "pattern": "/^def update_note($/", "language": "Python", "typeref": "typename:NoteOut", "kind": "function", "signature": "( payload: NoteUpdate, note_id: int = Path(..., ge=1, description=\"Note ID.\"), )"}], "hash": "b855a2e49c3285811d03e4588dd58ac5", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/notes_router.py", "fields": [{"name": "_SORT_FIELDS = {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/notes\", tags=[\"notes\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"16": "5e1de257bad145af13554a329f4e475360292558"}]}